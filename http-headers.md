# Meanings of various HTTP headers

## X-Request-ID

- The idea is that some piece of infrastructure in front of rails can add this
  header tot the _request_ and rails will faithfully pass it through or rails
  will make its own.
- ActionDispatch::RequestId makes the response (which is then accessible through
  ActionDispatch::Request#uuid) and sends the same id to the client via the
  X-Request-Id header.
- The unique request id can be used to trace a request end-to-end and would
  typically end up being part of log files from multiple pieces of the stack.
- The unique request id is either based on the X-Request-Id header in the
  request, which would typically be generated by a firewall, load balancer, or
  the web server, or, if this header is not available, a random uuid. If the
  header is accepted from the outside world, we sanitize it to a max of 255
  chars and alphanumeric and dashes only.

## X-Runtime

- Rack::Runtime sets an X-Runtime header, containing the time (in seconds) taken
  to execute the request.

## Etag

An ETag is an opaque identifier assigned by a web server to a specific version
of a resource found at a URL.

If the resource content at that URL ever changes, a new and different ETag is
assigned.

Used in this manner ETags are similar to fingerprints, and they can be quickly
compared to determine whether two versions of a resource are the same. Comparing
ETags only makes sense with respect to one URLâ€”ETags for resources obtained from
different URLs may or may not be equal, so no meaning can be inferred from their
comparison.

## Set-Cookie

- sets the cookie from the server

An example of decoding a Rails 3 cookie:

```
[1] pry(main)> require 'rack'
[2] pry(main)> ck = "some long cookie value"
[5] pry(main)> Rack::Session::Cookie::Base64::Marshal.new.decode(ck)
{
            "session_id" => "284c35068aaa594c7637d07acce00647",
  "warden.user.user.key" => [
    [0] "User",
    [1] [
      [0] 2
    ],
    [2] "$2a$10$zh9lOKet..Dv.0bzl49.ye"
  ]
}
```

Status codes

https://developer.mozilla.org/en-US/docs/Web/HTTP/Response_codes
